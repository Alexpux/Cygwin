dnl This is the newlib/libc/sys/linux/linuxthreads configure.in file.
dnl Process this file with autoconf to produce a configure script.

AC_PREREQ(2.5)
AC_INIT(attr.c)

dnl Can't be done in NEWLIB_CONFIGURE because that confuses automake. 
AC_CONFIG_AUX_DIR(../../../../..)

NEWLIB_CONFIGURE(../../../..)

dnl We have to enable libtool after NEWLIB_CONFIGURE because if we try and
dnl add it into NEWLIB_CONFIGURE, executable tests are made before the first
dnl line of the macro which fail because appropriate LDFLAGS are not set.

if test "${use_libtool}" = "yes"; then
AC_LIBTOOL_WIN32_DLL
AM_PROG_LIBTOOL
AC_PROG_AWK
fi

if test -n "${machine_dir}"; then
  MACHINE_OBJLIST=machine/${machine_dir}/objectlist.awk.in
  MACHINE_LIB=machine/${machine_dir}/lib.a
fi
AC_SUBST(MACHINE_OBJLIST)
AC_SUBST(MACHINE_LIB)

AC_CONFIG_SUBDIRS(machine)

AC_OUTPUT(Makefile)
