dnl This is the newlib/libc/sys/arm configure.in file.
dnl Process this file with autoconf to produce a configure script.

AC_PREREQ(2.5)
AC_INIT(trap.S)

dnl Can't be done in NEWLIB_CONFIGURE because that confuses automake. 
AC_CONFIG_AUX_DIR(../../../..)

dnl If requested, generate code designed to run directly on ARM V7M
dnl hardware.  As a result, startup code will not rely on simulator
dnl support.
AC_ARG_ENABLE(newlib-arm-v7m,
  AS_HELP_STRING([--enable-newlib-arm-v7m],
                 [Assume code will run on ARM V7M.]),
  [case "$enableval" in
     yes) armv7m=yes ;;
     no)  armv7m=no ;;
     *)   AC_MSG_ERROR(bad value ${enableval} for newlib-arm-v7m) ;;
   esac],
  [armv7m=no])
if test "${armv7m}" = "yes"; then
  AC_DEFINE(_ARM_V7M, 1)
fi

NEWLIB_CONFIGURE(../../..)

AC_OUTPUT(Makefile)
