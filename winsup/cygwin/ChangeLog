Mon Jan 15 23:15:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* mmap.cc (mmap): Add more parameter checking. Change error output
	in case of EINVAL. Treat mmapping /dev/zero like MAP_ANONYMOUS.

Mon Jan 15 20:34:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* mmap.cc: include <unistd.h>. Define some bit operations for
	the new page map.
	(mmap_record): Change type of base_address_ to caddr_t.
	Add map_map_ member. Add several methods to manipulate map_map_.
	(mmap_record::alloc_map): New method.
	(mmap_record::free_map): Ditto.
	(mmap_record::find_empty): Ditto.
	(mmap_record::map_map): Ditto.
	(mmap_record::unmap_map): Ditto.
	(list::add_record): Change return type to `mmap_record *'.
	Allocate page map.
	(list::match): New method.
	(mmap): Partly rewritten to take care for the new page map. Add some
	parameter checking.
	(munmap): Ditto.

Mon Jan 15 13:50:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* heap.cc (heap_init): Fix extern declaration of getpagesize.
	* syscalls.cc (getpagesize): Fix another typo.

Mon Jan 15 12:48:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* syscalls.cc (getpagesize): Save pagesize in global variable to
	avoid calling GetSystemInfo too often.
	* heap.cc (getpagesize): Eliminate.
	(heap_init): Use getpagesize function from syscalls.cc.

Mon Jan 15 11:56:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* sysconf.cc (sysconf): return `getpagesize ()' on _SC_PAGESIZE
	request to avoid implementing the same twice.

Sun Jan 14 14:07:50 2001  Christopher Faylor <cgf@cygnus.com>

	* syscalls.cc (_read): Use more lightweight method for determining if
	read has been interrupted by a signal.

Fri Jan 12 00:35:15 2001  Christopher Faylor <cgf@cygnus.com>

	* debug.h: Add regparm attributes to some functions.

	* signal.cc (sigaction): Don't treat SIGCONT specially.

	* exceptions.cc (interrupt_setup): Save sa_flags of interrupted signal for later use.
	(sig_handler): Default any stopping signal to SIGSTOP.
	(call_signal_handler): New function.
	(sigdelayed0): New function.
	* sigproc.cc (sigproc_init): Initialize SIGSTOP sigaction for special behavior.
	* sigproc.h: Define call_signal_handler.
	* syscalls.cc (_read): Allow restartable signal behavior.

Thu Jan 11 13:17:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* fhandler.h (fhandler_base): New method `fixup_mmap_after_fork'.
	(fhandler_disk_file: Ditto.
	(fhandler_dev_mem): Ditto.
	* fhandler_mem.cc (fhandler_dev_mem::open): Set OBJ_INHERIT attribute
	for device\physicalmemory handle.
	(fhandler_dev_mem::mmap): Ditto.
	* fhandler_mem.cc (fhandler_dev_mem::fixup_mmap_after_fork): New method.
	* mmap.cc (mmap_record): Add private `fdesc_' member. Change constructor
	accordingly.
	(get_fd): New method.
	(mmap): Use new mmap_record constructor.
	(fhandler_base::fixup_mmap_after_fork): New method.
	(fhandler_disk_file::fixup_mmap_after_fork): Ditto.
	(fixup_mmaps_after_fork): Call `fixup_mmap_after_fork' of appropriate 
	fhandler class.

Wed Jan 10 22:08:30 2001  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* sigproc.cc (wait_sig): Allow SIGCONT when stopped.

Tue Jan  9 16:55:00 2001  Corinna Vinschen <corinna@vinschen.de>

	Patch suggested by René Møller Fonseca <fonseca@mip.sdu.dk>
	* include/sys/socket.h: Change prototype to have 2nd parameter `const'.
	* net.cc (cygwin_bind): Change 2nd parameter to `const'.

Sun Jan  7 22:59:37 2001  Christopher Faylor <cgf@cygnus.com>

	* pinfo.cc (codepage_init): Move function.
	* environ.cc (codepage_init): To here.
	* exceptoins.cc (SIG_NONMASKABLE): Remove SIGCONT from consideration
	since it is supposed to be maskable.
	* signal.cc (sigaction): Ditto.
	* sigproc.cc (wait_sig): Ditto.
	* winsup.h: Eliminate global declaration of codepage_init.

Thu Jan  5  9:33:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* resource.cc (getrlimit): Set errno on EFAULT instead of returning
	it.
	(setrlimit): Ditto.

Thu Jan  5  3:38:00  2001  David Sainty <David.Sainty@optimation.co.nz>

	* resource.cc (setrlimit): Prevent failing with an error when the
	operation would not have changed anything.

Thu Jan  4 10:29:54  2001  Earnie Boyd  <earnie_boyd@yahoo.com>

	* thread.cc: Need LONG_MAX definition.

Wed Jan  3 13:47:23 2001  Christopher Faylor <cgf@cygnus.com>

	* thread.cc (MTinterface::CreateSemaphore): Correctly set semaphore
	max.

Wed Jan  3 09:44:51 2001  Christopher Faylor <cgf@cygnus.com>

	* fhandler_console.cc (fhandler_console::read): Restore missing test
	for code page before doing OemToCharBuff.

Wed Jan  3 09:20:20 2001  Jason Tishler <jt@dothill.com>

	* include/cygwin/version.h: Fix typo in CYGWIN_VERSION_DLL_COMBINED
	macro.
